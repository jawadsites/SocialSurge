<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>لوحة التحكم - خدمات التواصل الاجتماعي</title>    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">    <link rel="stylesheet" href="css/dashboard.css">    <link rel="stylesheet" href="css/dashboard-charts.css">
    <link rel="stylesheet" href="css/settings.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/responsive-fixes.css">    <link rel="stylesheet" href="css/mobile-nav-enhancements.css">
    <link rel="stylesheet" href="css/responsive-tables.css">
    <link rel="stylesheet" href="css/sidebar-fix.css">
    <link rel="stylesheet" href="css/responsive-toggle-fix.css">
    <link rel="stylesheet" href="css/sidebar-fix-large-screens.css">
    <link rel="stylesheet" href="css/critical-sidebar-fix.css">
    <link rel="stylesheet" href="css/login-states.css">
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            min-height: 100vh;
        }        .sidebar {
            height: calc(100vh - 64px);
            transition: width 0.3s;
        }
        @media (max-width: 1024px) {
            .sidebar {
                position: fixed;
                z-index: 40;
                left: 0;
                top: 64px;
                width: 70vw;
                max-width: 320px;
                height: calc(100vh - 64px);
                transform: translateX(-100%);
                background: #fff;
                box-shadow: 2px 0 8px rgba(0,0,0,0.08);
                transition: transform 0.3s;
            }
            .sidebar.open {
                transform: translateX(0);
            }
        }
        /* Mobile bottom navigation for extra small devices */
        @media (max-width: 640px) {
            .mobile-bottom-nav {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                background: white;
                box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
                z-index: 30;
                display: flex;
                justify-content: space-around;
                padding: 0.5rem 0;
                border-top: 1px solid #e5e7eb;
            }
            .mobile-bottom-nav a {
                display: flex;
                flex-direction: column;
                align-items: center;
                padding: 0.5rem;
                color: #6b7280;
                font-size: 0.75rem;
            }
            .mobile-bottom-nav a.active {
                color: #3b82f6;
            }
            .mobile-bottom-nav i {
                font-size: 1.25rem;
                margin-bottom: 0.25rem;
            }
            .sidebar.bottom-nav-enabled {
                height: calc(100vh - 64px - 72px); /* Account for bottom nav */
            }
            #dashboard {
                padding-bottom: 72px; /* Add padding to account for bottom nav */
            }
        }
        /* Mobile Bottom Navigation */
        .mobile-bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-around;
            padding: 0.5rem 0;
            border-top: 1px solid #e5e7eb;
            z-index: 50;
        }
        
        .mobile-bottom-nav a {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.7rem;
            color: #6B7280;
            padding: 0.5rem;
            transition: color 0.2s;
        }
        
        .mobile-bottom-nav a i {
            font-size: 1.2rem;
            margin-bottom: 0.25rem;
        }
        
        .mobile-bottom-nav a.active {
            color: #3B82F6;
        }
        
        /* Additional Responsive Improvements */
        @media (max-width: 640px) {
            .dashboard-table {
                font-size: 0.875rem;
            }
            
            /* Added spacing for bottom nav */
            #dashboard {
                padding-bottom: 5rem;
            }
            
            /* Make modals more mobile friendly */
            .modal .bg-white {
                width: 95%;
                max-height: 85vh;
                overflow-y: auto;
            }
            
            /* Improve form elements on mobile */
            input, select, textarea {
                font-size: 16px; /* Prevent zoom on iOS */
            }
            
            /* Better button spacing */
            .btn {
                padding: 0.5rem 1rem;
                font-size: 0.875rem;
            }
            
            /* Make cards and containers full width */
            .grid {
                grid-template-columns: 1fr !important;
            }
        }
        
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .currency-item:hover {
            background-color: #e0e7ff;
        }
        .service-card {
            transition: transform 0.2s, box-shadow 0.2s;
            border-radius: 1rem;
            border: 1px solid #e5e7eb;
            background: linear-gradient(135deg, #fff 80%, #f0f9ff 100%);
        }
        .service-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 12px 24px -6px rgba(59,130,246,0.10);
            border-color: #60a5fa;
        }
        .platform-tag {
            transition: all 0.3s;
            background: #f1f5f9;
            color: #2563eb;
            border-radius: 9999px;
            padding: 0.25rem 0.75rem;
            font-size: 0.9rem;
            margin-left: 0.5rem;
        }
        .platform-tag:hover {
            background-color: #2563eb;
            color: #fff;
        }
        .modal {
            transition: opacity 0.3s ease;
        }        /* Responsive table */
        @media (max-width: 768px) {
            table, thead, tbody, th, td, tr {
                display: block;
            }
            thead tr {
                display: none;
            }
            tbody tr {
                margin-bottom: 1rem;
                background: #fff;
                border-radius: 1rem;
                box-shadow: 0 2px 8px rgba(0,0,0,0.04);
                padding: 1rem;
                border: 1px solid #e5e7eb;
            }
            td {
                position: relative;
                padding-right: 50%;
                padding-left: 1rem;
                min-height: 2.5rem;
                border: none;
                margin-bottom: 0.5rem;
                display: flex;
                align-items: center;
            }
            td:before {
                position: absolute;
                right: 1rem;
                top: 50%;
                transform: translateY(-50%);
                white-space: nowrap;
                font-weight: bold;
                color: #64748b;
                content: attr(data-label);
            }
            
            /* Improved spacing for mobile table rows */
            .responsive-table tr:not(:last-child) {
                margin-bottom: 1rem;
            }
            
            /* Better scrolling for wide tables */
            .overflow-x-auto {
                -webkit-overflow-scrolling: touch;
                scrollbar-width: thin;
                margin-bottom: 1.5rem;
            }
        }
        /* Buttons */
        .btn {
            @apply transition duration-200 font-bold rounded-lg shadow-sm;
        }
        .btn-blue {
            @apply bg-blue-600 hover:bg-blue-700 text-white;
        }        .btn-green {
            @apply bg-green-600 hover:bg-green-700 text-white;
        }        .btn-yellow {
            @apply bg-amber-500 hover:bg-amber-600 text-white;
        }
        .btn-purple {
            @apply bg-purple-600 hover:bg-purple-700 text-white;
        }
        .btn-red {
            @apply bg-red-600 hover:bg-red-700 text-white;
        }
        .btn-outline {
            @apply border border-blue-600 text-blue-600 bg-white hover:bg-blue-50;
        }
        /* Navbar shadow and gradient */
        nav.bg-blue-600 {
            background: linear-gradient(90deg, #2563eb 60%, #60a5fa 100%);
            box-shadow: 0 2px 8px rgba(59,130,246,0.08);
        }
        /* Sidebar active link */
        .sidebar a.tab-link.active, .sidebar a.tab-link:focus {
            background: linear-gradient(90deg, #e0e7ff 60%, #f0f9ff 100%);
            color: #2563eb !important;
            border-right: 4px solid #2563eb;
        }
        /* Sidebar hover */
        .sidebar a.tab-link:hover {
            background: #f0f9ff;
            color: #2563eb;
        }
        /* Modal improvements */
        #add-service-modal .bg-white {
            border-radius: 1.5rem;
            box-shadow: 0 8px 32px rgba(59,130,246,0.15);
        }
        #add-service-modal input, #add-service-modal textarea, #add-service-modal select {
            background: #f9fafb;
            border-radius: 0.75rem;
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            background: #e0e7ff;
        }
        ::-webkit-scrollbar-thumb {
            background: #a5b4fc;
            border-radius: 8px;
        }        /* Responsive main content */
        @media (max-width: 1024px) {
            .w-1/5 {
                width: 0 !important;
                display: none !important;
            }
            .w-4/5 {
                width: 100% !important;
            }
            .p-6 {
                padding: 1rem !important;
            }
            .flex-col-on-mobile {
                flex-direction: column !important;
            }
            .full-width-on-mobile {
                width: 100% !important;
            }
            .mb-on-mobile {
                margin-bottom: 1rem !important;
            }
            
            /* Improve responsive tables */
            .responsive-table {
                overflow-x: auto;
            }
            
            /* Responsive grid for cards */
            .grid-on-mobile {
                display: grid !important;
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)) !important;
                gap: 1rem !important;
            }
        }
        
        @media (max-width: 640px) {
            .text-2xl {
                font-size: 1.25rem !important;
            }
            .p-8, .p-6 {
                padding: 0.75rem !important;
            }
            .rounded-lg, .rounded-md {
                border-radius: 0.75rem !important;
            }
            
            /* Mobile Bottom Navigation */
            .mobile-bottom-nav {
                display: flex;
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                z-index: 50;
                background: white;
                border-top: 1px solid #e5e7eb;
                box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
                padding: 0.5rem 0;
            }
            
            /* Padding for bottom nav */
            #dashboard {
                padding-bottom: 5rem !important;
            }
            
            /* Stack flex items on mobile */
            .flex {
                flex-wrap: wrap;
            }
            
            /* Improve grid layouts on small screens */
            .grid {
                grid-template-columns: repeat(1, 1fr) !important;
            }
        }
        /* Improved Section Headers */
        .section-header {
            position: relative;
            padding-right: 1rem;
            margin-bottom: 1.5rem;
            border-right: 4px solid #3b82f6;
        }
        
        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e3a8a;
            padding-bottom: 0.5rem;
        }
        
        .section-subtitle {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        /* Enhanced Table Styling */
        .table-container {
            border-radius: 0.75rem;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .dashboard-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }
        
        .dashboard-table thead {
            background: linear-gradient(90deg, #dbeafe 0%, #eff6ff 100%);
        }
        
        .dashboard-table th {
            color: #1e40af;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 1rem;
            font-size: 0.75rem;
            border-bottom: 2px solid #bfdbfe;
        }
        
        .dashboard-table tbody tr {
            transition: all 0.2s;
        }
        
        .dashboard-table tbody tr:nth-child(odd) {
            background-color: #f9fafb;
        }
        
        .dashboard-table tbody tr:hover {
            background-color: #eff6ff;
        }
        
        .dashboard-table td {
            padding: 1rem;
            vertical-align: middle;
            border-bottom: 1px solid #e5e7eb;
        }
        
        /* Status badges */
        .status-badge {
            display: none;
        }
        
        .status-pending {
            display: none;
        }
        
        .status-completed {
            display: none;
        }
        
        .status-processing {
            display: none;
        }
        
        .status-cancelled {
            display: none;
        }
        
        /* Action buttons */
        .action-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            border-radius: 9999px;
            transition: all 0.2s;
        }
        
        .view-btn {
            background-color: #dbeafe;
            color: #2563eb;
        }
        
        .view-btn:hover {
            background-color: #bfdbfe;
        }
        
        .edit-btn {
            background-color: #e0e7ff;
            color: #4f46e5;
        }
        
        .edit-btn:hover {
            background-color: #c7d2fe;
        }
        
        .delete-btn {
            background-color: #fee2e2;
            color: #dc2626;
        }
        
        .delete-btn:hover {
            background-color: #fecaca;
        }

        @media (max-width: 768px) {
            .section-title {
                font-size: 1.25rem;
            }
            
            .dashboard-table th, 
            .dashboard-table td {
                padding: 0.75rem 0.5rem;
            }
            
            .dashboard-table td:before {
                color: #1e40af;
                font-weight: 600;
            }
        }
        /* إصلاح الشريط الجانبي للشاشات الكبيرة */

        /* تأكد من أن الشريط الجانبي مرئي دائمًا على الشاشات الكبيرة */
        @media (min-width: 1025px) {
          .sidebar {
            width: 20% !important;
            display: block !important;
            position: relative !important;
            transform: translateX(0) !important;
            z-index: 10;
          }
          
          /* ضمان أن المحتوى الرئيسي يأخذ المساحة الصحيحة */
          .w-4/5 {
            width: 80% !important;
          }
          
          /* تجاوز تعريفات الإخفاء الإضافية */
          .w-1/5 {
            width: 20% !important;
            display: block !important;
          }
        }
        
        /* إصلاح سلوك الشريط الجانبي على الأجهزة المتوسطة والصغيرة */
        @media (max-width: 1024px) {
          .sidebar {
            position: fixed;
            z-index: 40;
            transform: translateX(-100%);
            width: 70vw !important;
            max-width: 320px !important;
          }
          
          .sidebar.open {
            transform: translateX(0);
          }
          
          .sidebar-overlay.active {
            display: block;
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 30;
          }
        }
        /* إخفاء الشريط الجانبي في شاشة تسجيل الدخول فورًا */
        #login-screen:not(.hidden) ~ * .sidebar,
        #login-screen:not(.hidden) ~ * .w-1/5 {
            display: none !important;
        }
        
        /* تأكد من أن الجسم يملأ الشاشة بالكامل في شاشة تسجيل الدخول */
        body {
            min-height: 100vh;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        
        /* تعديل تخطيط شاشة تسجيل الدخول */
        #login-screen {
            z-index: 9999 !important;
            background-color: #f3f4f6 !important;
        }
        
        .flex:has(#login-screen:not(.hidden)) {
            display: block !important;
        }
        /* تحسين ألوان نص الشريط الجانبي */
        .sidebar a.tab-link {
            color: #94a3b8 !important;
            font-weight: 500 !important;
            transition: all 0.3s ease;
        }

        .sidebar a.tab-link:hover {
            color: #60a5fa !important;
            background-color: rgba(96, 165, 250, 0.1) !important;
        }

        .sidebar a.tab-link.active, 
        .sidebar a.tab-link:focus {
            color: #3b82f6 !important;
            font-weight: 600 !important;
            background: linear-gradient(90deg, #eff6ff 60%, #dbeafe 100%) !important;
            border-right: 4px solid #3b82f6 !important;
        }

        .sidebar a#logout-button {
            color: #ef4444 !important;
        }

        .sidebar a#logout-button:hover {
            color: #dc2626 !important;
            background-color: rgba(239, 68, 68, 0.1) !important;
        }

        /* تحسين شكل الأيقونات */
        .sidebar a.tab-link i {
            opacity: 0.85;
            margin-left: 0.5rem;
            transition: all 0.3s ease;
        }

        .sidebar a.tab-link:hover i,
        .sidebar a.tab-link.active i {
            opacity: 1;
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <!-- Login Screen (Initially visible) -->
    <div id="login-screen" class="fixed inset-0 flex items-center justify-center bg-gray-100 z-50">
        <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
            <div class="text-center mb-6">
                <i class="fas fa-users text-blue-600 text-5xl mb-4"></i>
                <h2 class="text-2xl font-bold text-gray-800">لوحة إدارة خدمات التواصل الاجتماعي</h2>
                <p class="text-gray-600 mt-2">تسجيل الدخول للوصول إلى لوحة التحكم</p>
            </div>
            <form id="login-form" class="space-y-4">
                <div>
                    <label class="block text-gray-700 mb-2">اسم المستخدم</label>
                    <input type="text" id="username" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" value="admin" required>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">كلمة المرور</label>
                    <input type="password" id="password" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" value="admin123" required>
                </div>
                <button type="submit" class="w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition duration-300 font-bold">
                    تسجيل الدخول
                </button>
            </form>
        </div>
    </div>

    <!-- Main Dashboard (Initially hidden) -->
    <div id="dashboard" class="hidden">
        <!-- Navbar -->        <nav class="bg-blue-600 text-white shadow-md sticky top-0 z-40">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex items-center">
                    <!-- Hamburger for mobile -->
                    <button id="sidebar-toggle" class="lg:hidden block text-white text-2xl ml-4 focus:outline-none">
                        <i class="fas fa-bars"></i>
                    </button>
                    <i class="fas fa-chart-line mr-2 text-xl hidden sm:block"></i>
                    <span class="font-bold text-base sm:text-xl truncate max-w-xs sm:max-w-md">لوحة تحكم خدمات التواصل الاجتماعي</span>
                </div>
                <div class="flex items-center space-x-4 space-x-reverse">
                    <div class="flex items-center cursor-pointer" id="user-menu-button">
                        <span class="mr-2 hidden sm:inline-block">المسؤول</span>
                        <img src="https://via.placeholder.com/32" alt="صورة المستخدم" class="w-8 h-8 rounded-full border-2 border-blue-200 shadow-sm">
                    </div>
                </div>
            </div>
        </nav><!-- Sidebar overlay (visible on mobile when sidebar is open) -->
        <div id="sidebar-overlay" class="sidebar-overlay"></div>
        
        <div class="flex">
            <!-- Sidebar -->
            <div class="w-1/5 bg-white shadow-lg sidebar overflow-y-auto">
                <ul class="py-4">
                    <li>
                        <a href="#" class="tab-link flex items-center px-6 py-3 text-blue-600 border-r-4 border-blue-600 bg-blue-50" data-tab="dashboard-summary">
                            <i class="fas fa-home w-6"></i>
                            <span>الصفحة الرئيسية</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="tab-link flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition duration-200" data-tab="services">
                            <i class="fas fa-cogs w-6"></i>
                            <span>إدارة الخدمات</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="tab-link flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition duration-200" data-tab="platforms">
                            <i class="fas fa-hashtag w-6"></i>
                            <span>إدارة المنصات</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="tab-link flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition duration-200" data-tab="pricing">
                            <i class="fas fa-dollar-sign w-6"></i>
                            <span>الأسعار</span>
                        </a>
                    </li>                    <li>
                        <a href="#" class="tab-link flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition duration-200" data-tab="orders">
                            <i class="fas fa-shopping-cart w-6"></i>
                            <span>الطلبات</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="tab-link flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition duration-200" data-tab="settings">
                            <i class="fas fa-cog w-6"></i>
                            <span>الإعدادات</span>
                        </a>
                    </li>
                    <li>
                        <a href="index.html" class="tab-link flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 duration-200 visit-site-link">
                            <i class="fas fa-globe w-6"></i>
                            <span>زيارة الموقع</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="logout-button" class="flex items-center px-6 py-3 text-red-600 hover:bg-red-50 transition duration-200">
                            <i class="fas fa-sign-out-alt w-6"></i>
                            <span>تسجيل الخروج</span>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Main Content -->
            <div class="w-4/5 p-6 bg-gray-100 overflow-y-auto" style="height: calc(100vh - 64px);">                <!-- Dashboard Summary Tab -->
                <div id="dashboard-summary" class="tab-content active fade-in">                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">لوحة المعلومات</h2>
                    </div>                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8"><div class="bg-white rounded-lg shadow-md p-6 border-b-4 border-blue-500 transition-all duration-300 hover:shadow-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm">إجمالي المبيعات</p>
                                    <h3 class="text-2xl font-bold mt-1" id="total-sales">$12,628</h3>
                                    <p id="total-sales-trend" class="text-green-500 text-sm mt-2">
                                        <i class="fas fa-arrow-up mr-1"></i>
                                        <span>23.5%</span>
                                    </p>
                                </div>
                                <div class="bg-blue-100 p-3 rounded-full">
                                    <i class="fas fa-dollar-sign text-blue-600 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-md p-6 border-b-4 border-green-500 transition-all duration-300 hover:shadow-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm">الطلبات الجديدة</p>
                                    <h3 class="text-2xl font-bold mt-1" id="new-orders">284</h3>
                                    <p id="new-orders-trend" class="text-green-500 text-sm mt-2">
                                        <i class="fas fa-arrow-up mr-1"></i>
                                        <span>12.8%</span>
                                    </p>
                                </div>
                                <div class="bg-green-100 p-3 rounded-full">
                                    <i class="fas fa-shopping-bag text-green-600 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-md p-6 border-b-4 border-purple-500 transition-all duration-300 hover:shadow-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm">عدد العملاء</p>
                                    <h3 class="text-2xl font-bold mt-1" id="customers-count">752</h3>
                                    <p id="customers-trend" class="text-green-500 text-sm mt-2">
                                        <i class="fas fa-arrow-up mr-1"></i>
                                        <span>8.3%</span>
                                    </p>
                                </div>
                                <div class="bg-purple-100 p-3 rounded-full">
                                    <i class="fas fa-users text-purple-600 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-md p-6 border-b-4 border-yellow-500 transition-all duration-300 hover:shadow-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm">معدل التحويل</p>
                                    <h3 class="text-2xl font-bold mt-1" id="conversion-rate">6.8%</h3>
                                    <p id="conversion-trend" class="text-red-500 text-sm mt-2">
                                        <i class="fas fa-arrow-down mr-1"></i>
                                        <span>1.2%</span>
                                    </p>
                                </div>
                                <div class="bg-yellow-100 p-3 rounded-full">
                                    <i class="fas fa-chart-pie text-yellow-600 text-xl"></i>
                                </div>
                            </div>
                        </div>
                    </div>                    <!-- Recent Orders Section with improved styling -->
                    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                        <div class="section-header">
                            <h3 class="section-title">أحدث الطلبات</h3>
                            <p class="section-subtitle">عرض آخر الطلبات المستلمة من العملاء</p>
                        </div>                        <div class="flex flex-wrap justify-between items-center mb-4">
                            <div></div>
                            <a href="#" class="text-blue-600 hover:text-blue-800 text-sm flex items-center" data-tab="orders">
                                عرض الكل <i class="fas fa-chevron-left mr-1 text-xs"></i>
                            </a>
                        </div>
                          <div class="table-container overflow-x-auto responsive-table">
                            <table class="dashboard-table" id="recent-orders-table">
                                <thead>
                                    <tr>
                                        <th class="text-right">رقم الطلب</th>
                                        <th class="text-right">العميل</th>
                                        <th class="text-right">الخدمة</th>
                                        <th class="text-right">المبلغ</th>
                                        <th class="text-right">التاريخ</th>
                                        <th class="text-right">الإجراءات</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Sample data for demonstration -->
                                    <tr>
                                        <td data-label="رقم الطلب">#A78952</td>
                                        <td data-label="العميل">محمد أحمد</td>
                                        <td data-label="الخدمة">متابعين انستغرام</td>
                                        <td data-label="المبلغ">$24.99</td>
                                        <td data-label="التاريخ">2023-06-15</td>
                                        <td data-label="الإجراءات" class="flex space-x-1 space-x-reverse">
                                            <button class="action-btn view-btn"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn edit-btn"><i class="fas fa-edit"></i></button>
                                            <button class="action-btn delete-btn"><i class="fas fa-trash-alt"></i></button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td data-label="رقم الطلب">#B12345</td>
                                        <td data-label="العميل">سارة محمد</td>
                                        <td data-label="الخدمة">إعجابات فيسبوك</td>
                                        <td data-label="المبلغ">$15.50</td>
                                        <td data-label="التاريخ">2023-06-14</td>
                                        <td data-label="الإجراءات" class="flex space-x-1 space-x-reverse">
                                            <button class="action-btn view-btn"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn edit-btn"><i class="fas fa-edit"></i></button>
                                            <button class="action-btn delete-btn"><i class="fas fa-trash-alt"></i></button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td data-label="رقم الطلب">#C56789</td>
                                        <td data-label="العميل">خالد عبدالله</td>
                                        <td data-label="الخدمة">مشاهدات يوتيوب</td>
                                        <td data-label="المبلغ">$45.00</td>
                                        <td data-label="التاريخ">2023-06-13</td>
                                        <td data-label="الإجراءات" class="flex space-x-1 space-x-reverse">
                                            <button class="action-btn view-btn"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn edit-btn"><i class="fas fa-edit"></i></button>
                                            <button class="action-btn delete-btn"><i class="fas fa-trash-alt"></i></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>                    <!-- Analytics Section with service metrics -->
                    <div class="mb-8">
                        <!-- Best Selling Services -->
                        <div class="bg-white rounded-lg shadow-md p-6">                                <div class="flex justify-between mb-4">
                                <h3 class="text-lg font-bold text-gray-800">أفضل الخدمات مبيعاً</h3>
                                <div class="flex space-x-2 space-x-reverse">
                                    <button id="refresh-top-services" class="text-blue-500 hover:text-blue-700" title="تحديث البيانات">
                                        <i class="fas fa-sync-alt"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="space-y-4">
                                <!-- Instagram Followers -->
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center">
                                        <i class="fab fa-instagram text-purple-600"></i>
                                    </div>
                                    <div class="mr-3 flex-grow">
                                        <div class="flex justify-between items-center mb-1">
                                            <span class="text-sm font-medium">متابعين انستغرام</span>
                                            <span class="text-xs text-gray-500">68%</span>
                                        </div>                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-purple-600 h-2 rounded-full progress-bar-68"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- TikTok Likes -->
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                                        <i class="fab fa-tiktok text-blue-600"></i>
                                    </div>
                                    <div class="mr-3 flex-grow">
                                        <div class="flex justify-between items-center mb-1">
                                            <span class="text-sm font-medium">متابعين تيك توك</span>
                                            <span class="text-xs text-gray-500">56%</span>
                                        </div>                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-blue-600 h-2 rounded-full progress-bar-56"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- YouTube Views -->
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 w-8 h-8 bg-red-100 rounded-full flex items-center justify-center">
                                        <i class="fab fa-youtube text-red-600"></i>
                                    </div>
                                    <div class="mr-3 flex-grow">
                                        <div class="flex justify-between items-center mb-1">
                                            <span class="text-sm font-medium">مشاهدات يوتيوب</span>
                                            <span class="text-xs text-gray-500">42%</span>
                                        </div>                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-red-600 h-2 rounded-full progress-bar-42"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Facebook Posts -->
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center">
                                        <i class="fab fa-facebook-f text-indigo-600"></i>
                                    </div>
                                    <div class="mr-3 flex-grow">
                                        <div class="flex justify-between items-center mb-1">
                                            <span class="text-sm font-medium">إعجابات فيسبوك</span>
                                            <span class="text-xs text-gray-500">35%</span>
                                        </div>                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-indigo-600 h-2 rounded-full progress-bar-35"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Services Tab -->                <div id="services" class="tab-content fade-in">                    <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4">
                        <h2 class="text-2xl font-bold text-gray-800">إدارة الخدمات</h2>
                        <div class="flex flex-wrap sm:flex-row gap-2"><button id="export-services-btn" class="btn btn-green px-4 py-2 mr-2">
                                <i class="fas fa-file-export mr-1"></i> تصدير
                            </button>                            <button id="test-migration-btn" class="btn btn-yellow px-4 py-2 mr-2">
                                <i class="fas fa-vial mr-1"></i> اختبار الترحيل
                            </button>
                            <button id="test-platforms-btn" class="btn btn-purple px-4 py-2 mr-2">
                                <i class="fas fa-list mr-1"></i> اختبار المنصات
                            </button>
                            <button id="add-service-btn" class="btn btn-blue px-4 py-2">
                                <i class="fas fa-plus mr-1"></i> إضافة خدمة جديدة
                            </button>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                        <div class="flex justify-between items-center mb-4">                            <div class="flex items-center">
                                <i class="fas fa-filter text-gray-500 mr-2"></i>
                                <span class="text-gray-700">تصفية:</span>
                                <select id="service-filter" class="mr-4 bg-gray-100 border border-gray-300 text-gray-700 py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="all">جميع الخدمات</option>
                                    <option value="followers">متابعين</option>
                                    <option value="likes">إعجابات</option>
                                    <option value="comments">تعليقات</option>
                                    <option value="views">مشاهدات</option>
                                </select>
                            </div>
                            <div class="relative">
                                <input type="text" id="service-search" placeholder="بحث عن خدمة..." class="bg-gray-100 border border-gray-300 text-gray-700 py-2 px-4 pr-10 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <i class="fas fa-search text-gray-500"></i>
                                </div>
                            </div>
                        </div>                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 mt-6" id="services-container">
                            <!-- Service cards will be loaded here dynamically -->
                        </div>
                    </div>
                </div>                <!-- Platforms Tab -->
                <div id="platforms" class="tab-content fade-in">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">إدارة المنصات</h2>
                        <button id="add-platform-btn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition duration-300">
                            <i class="fas fa-plus mr-1"></i> إضافة منصة جديدة
                        </button>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                        <div class="flex justify-between items-center mb-4">
                            <div class="flex items-center">
                                <i class="fas fa-filter text-gray-500 mr-2"></i>
                                <span class="text-gray-700">تصفية:</span>
                                <select id="platform-filter" class="mr-4 bg-gray-100 border border-gray-300 text-gray-700 py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="all">جميع المنصات</option>
                                    <option value="social">مواقع التواصل الاجتماعي</option>
                                    <option value="video">منصات الفيديو</option>
                                    <option value="active">المنصات المفعلة</option>
                                    <option value="inactive">المنصات المعطلة</option>
                                </select>
                            </div>
                            <div class="relative">
                                <input type="text" id="platform-search" placeholder="بحث عن منصة..." class="bg-gray-100 border border-gray-300 text-gray-700 py-2 px-4 pr-10 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <i class="fas fa-search text-gray-500"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 mt-6" id="platforms-container">
                            <!-- Platforms will be loaded here dynamically -->
                        </div>
                    </div>
                </div>

                <!-- Pricing Tab -->
                <div id="pricing" class="tab-content fade-in">                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">الأسعار</h2>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                        <div class="section-header">
                            <h3 class="section-title">إعدادات التسعير المخصص</h3>
                            <p class="section-subtitle">قم بتعيين أسعار مختلفة لكميات مختلفة لكل خدمة</p>
                        </div>
                          <div class="flex flex-col md:flex-row gap-4 mb-6">
                            <div class="w-full md:w-1/3"><label class="block text-gray-700 mb-2">اختر الخدمة</label>
                                <select id="pricing-service-select" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <option value="">-- اختر الخدمة --</option>
                                </select>
                            </div>
                            
                            <div class="md:w-1/3">
                                <label class="block text-gray-700 mb-2">العملة</label>
                                <select id="pricing-currency-select" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <option value="USD">دولار أمريكي ($)</option>
                                    <option value="SAR">ريال سعودي (ر.س)</option>
                                    <option value="AED">درهم إماراتي (د.إ)</option>
                                    <option value="EUR">يورو (€)</option>
                                </select>
                            </div>
                            
                            <div class="md:w-1/3 flex items-end">
                                <button id="add-price-tier-btn" class="w-full bg-blue-100 text-blue-700 hover:bg-blue-200 px-4 py-3 rounded-lg transition duration-300">
                                    <i class="fas fa-plus-circle mr-1"></i> إضافة مستوى سعر جديد
                                </button>
                            </div>
                        </div>
                          <div class="overflow-x-auto responsive-table">
                            <table class="dashboard-table w-full mb-4" id="pricing-tiers-table"><thead>
                                    <tr>
                                        <th class="text-right">الكمية (من)</th>
                                        <th class="text-right">الكمية (إلى)</th>
                                        <th class="text-right">السعر (لكل 1000)</th>
                                        <th class="text-right">نسبة الخصم</th>
                                        <th class="text-right">تفعيل</th>
                                        <th class="text-right">الإجراءات</th>
                                    </tr>
                                </thead>
                                <tbody id="pricing-tiers-body">
                                    <tr class="pricing-tier">
                                        <td data-label="الكمية (من)">
                                            <input type="number" class="quantity-min w-full p-2 border border-gray-300 rounded-md" value="1" min="1">
                                        </td>
                                        <td data-label="الكمية (إلى)">
                                            <input type="number" class="quantity-max w-full p-2 border border-gray-300 rounded-md" value="1000" min="1">
                                        </td>
                                        <td data-label="السعر (لكل 1000)">
                                            <input type="number" class="price-per-unit w-full p-2 border border-gray-300 rounded-md" value="5.00" min="0.01" step="0.01">
                                        </td>                                        <td data-label="نسبة الخصم">
                                            <input type="number" class="discount-percentage w-full p-2 border border-gray-300 rounded-md" value="0" min="0" max="100">
                                        </td>
                                        <td data-label="تفعيل">
                                            <label class="inline-flex items-center">
                                                <input type="checkbox" class="tier-active w-4 h-4 text-blue-600 rounded" checked>
                                                <span class="mr-2">مفعل</span>
                                            </label>
                                        </td>
                                        <td data-label="الإجراءات">
                                            <button class="action-btn delete-tier-btn bg-red-100 text-red-600 hover:bg-red-200">
                                                <i class="fas fa-trash-alt"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="pricing-tier">
                                        <td data-label="الكمية (من)">
                                            <input type="number" class="quantity-min w-full p-2 border border-gray-300 rounded-md" value="1001" min="1">
                                        </td>
                                        <td data-label="الكمية (إلى)">
                                            <input type="number" class="quantity-max w-full p-2 border border-gray-300 rounded-md" value="5000" min="1">
                                        </td>
                                        <td data-label="السعر (لكل 1000)">
                                            <input type="number" class="price-per-unit w-full p-2 border border-gray-300 rounded-md" value="4.50" min="0.01" step="0.01">
                                        </td>
                                        <td data-label="نسبة الخصم">
                                            <input type="number" class="discount-percentage w-full p-2 border border-gray-300 rounded-md" value="10" min="0" max="100">
                                        </td>
                                        <td data-label="الإجراءات">
                                            <button class="action-btn delete-tier-btn bg-red-100 text-red-600 hover:bg-red-200">
                                                <i class="fas fa-trash-alt"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="pricing-tier">
                                        <td data-label="الكمية (من)">
                                            <input type="number" class="quantity-min w-full p-2 border border-gray-300 rounded-md" value="5001" min="1">
                                        </td>
                                        <td data-label="الكمية (إلى)">
                                            <input type="number" class="quantity-max w-full p-2 border border-gray-300 rounded-md" value="10000" min="1">
                                        </td>
                                        <td data-label="السعر (لكل 1000)">
                                            <input type="number" class="price-per-unit w-full p-2 border border-gray-300 rounded-md" value="4.00" min="0.01" step="0.01">
                                        </td>
                                        <td data-label="نسبة الخصم">
                                            <input type="number" class="discount-percentage w-full p-2 border border-gray-300 rounded-md" value="20" min="0" max="100">
                                        </td>
                                        <td data-label="الإجراءات">
                                            <button class="action-btn delete-tier-btn bg-red-100 text-red-600 hover:bg-red-200">
                                                <i class="fas fa-trash-alt"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="mt-6 p-4 bg-blue-50 rounded-lg">
                            <h4 class="font-bold text-blue-800 mb-2">معاينة التسعير:</h4>
                            <div id="pricing-preview" class="text-blue-700">
                                <p>للطلبات من 1 إلى 1,000: <span class="font-bold">$5.00</span> لكل 1000 (بدون خصم)</p>
                                <p>للطلبات من 1,001 إلى 5,000: <span class="font-bold">$4.50</span> لكل 1000 (خصم 10%)</p>
                                <p>للطلبات من 5,001 إلى 10,000: <span class="font-bold">$4.00</span> لكل 1000 (خصم 20%)</p>
                            </div>
                        </div>                          <div class="mt-6 flex flex-wrap sm:flex-row justify-end space-y-2 sm:space-y-0 space-x-0 sm:space-x-3 rtl:space-x-reverse">
                            <a href="pricing-test.html" class="w-full sm:w-auto text-center bg-indigo-100 hover:bg-indigo-200 text-indigo-700 px-6 py-3 rounded-lg transition duration-300 mb-2 sm:mb-0">
                                <i class="fas fa-flask mr-1"></i> اختبار التسعير
                            </a>
                            <button id="save-pricing-config" class="w-full sm:w-auto text-center bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition duration-300">
                                <i class="fas fa-save mr-1"></i> حفظ التسعير
                            </button>
                        </div>
                    </div>
                    
                    
                </div></td>

                <!-- Orders Tab -->
                <div id="orders" class="tab-content fade-in">                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">إدارة الطلبات</h2>
                        <div>
                            <button id="export-orders-btn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md transition duration-300">
                                <i class="fas fa-file-export mr-1"></i> تصدير
                            </button>
                        </div>
                    </div><div id="orders-container">
                        <!-- Orders content will be loaded here dynamically -->
                    </div>
                </div>                <!-- Settings Tab -->                <div id="settings" class="tab-content fade-in">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">الإعدادات</h2>
                        <button id="save-settings" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition duration-300">
                            <i class="fas fa-save mr-1"></i> حفظ التغييرات
                        </button>
                    </div>
                    <div id="settings-container">
                        <!-- Settings content will be loaded here dynamically -->
                    </div>                </div>
            </div>
        </div>

        <!-- Mobile Bottom Navigation (visible only on small screens) -->
        <div class="mobile-bottom-nav">
            <a href="#" class="tab-link-mobile active" data-tab="dashboard-summary">
                <i class="fas fa-home"></i>
                <span>الرئيسية</span>
            </a>
            <a href="#" class="tab-link-mobile" data-tab="services">
                <i class="fas fa-cogs"></i>
                <span>الخدمات</span>
            </a>
            <a href="#" class="tab-link-mobile" data-tab="orders">
                <i class="fas fa-shopping-cart"></i>
                <span>الطلبات</span>
            </a>
            <a href="#" class="tab-link-mobile" data-tab="settings">
                <i class="fas fa-cog"></i>
                <span>الإعدادات</span>
            </a>
        </div>
    </div>

    <!-- Add Service Modal -->
    <div id="add-service-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black opacity-50"></div>
        <div class="absolute inset-0 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg shadow-lg max-w-2xl w-full">
                <div class="flex justify-between items-center border-b border-gray-200 px-6 py-4">
                    <h3 class="text-xl font-bold text-gray-800">إضافة خدمة جديدة</h3>
                    <button id="close-service-modal" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>                <div class="p-4 sm:p-6">
                    <form id="add-service-form" class="space-y-3 sm:space-y-4" data-mode="add">
                        <div>                            <label class="block text-gray-700 mb-2">اسم الخدمة</label>
                            <input id="service-name" type="text" placeholder="أدخل اسم الخدمة" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">وصف الخدمة</label>
                            <textarea id="service-description" placeholder="أدخل وصفاً مختصراً للخدمة" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                        </div>                        <div>
                            <label class="block text-gray-700 mb-2">المنصة</label>
                            <select id="service-platform" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="" disabled selected>اختر المنصة</option>
                                <!-- سيتم ملء الخيارات ديناميكيًا بالمنصات النشطة فقط -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">السعر (لكل 1000)</label>
                            <div class="flex">
                                <div class="flex-shrink-0 z-10 inline-flex items-center py-2.5 px-4 text-sm font-medium text-center text-gray-900 bg-gray-100 border border-gray-300 rounded-r-lg">
                                    
                                </div>
                                <input id="service-price" type="number" placeholder="5.00" class="rounded-none rounded-l-lg border border-gray-300 p-2.5 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">الحد الأدنى للكمية</label>
                            <input id="min-quantity" type="number" placeholder="100" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">الحد الأقصى للكمية</label>
                            <input id="max-quantity" type="number" placeholder="10000" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="service-active" class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" checked>
                            <label for="service-active" class="mr-2 text-gray-700">تفعيل الخدمة</label>
                        </div>
                    </form>
                </div>
                <div class="flex justify-end border-t border-gray-200 px-6 py-4">
                    <button id="cancel-service" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md mr-3 hover:bg-gray-300 transition">
                        إلغاء
                    </button>
                    <button id="save-service" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition">
                        حفظ الخدمة
                    </button>
                </div>
            </div>
        </div>
    </div>    <!-- This script section will be replaced by the new unified script section below -->
    <script>// Define setupTabSystem function
        function setupTabSystem() {
            // Get all tab links and tab contents
            const tabLinks = document.querySelectorAll('.tab-link');
            const tabContents = document.querySelectorAll('.tab-content');
            
            // Add click event listener to each tab link
            tabLinks.forEach(tabLink => {
                tabLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Get the tab to activate
                    const tabId = this.getAttribute('data-tab');
                    
                    // Remove active class from all tab links and contents
                    tabLinks.forEach(link => {
                        link.classList.remove('text-blue-600', 'border-r-4', 'border-blue-600', 'bg-blue-50');
                        link.classList.add('text-gray-700', 'hover:bg-blue-50', 'hover:text-blue-600');
                    });
                    
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // Add active class to current tab link and content
                    this.classList.add('text-blue-600', 'border-r-4', 'border-blue-600', 'bg-blue-50');
                    this.classList.remove('text-gray-700', 'hover:bg-blue-50', 'hover:text-blue-600');
                    
                    const activeTab = document.getElementById(tabId);
                    if (activeTab) {
                        activeTab.classList.add('active');                    // تهيئة الوحدات النمطية المحددة عند تنشيط تبويبها                    if (tabId === 'platforms' && typeof platformsManager !== 'undefined') {
                        // تهيئة نظام إدارة المنصات
                        // إعادة ضبط حالة التهيئة للسماح بإعادة تحميل المنصات
                        platformsManager.state.isInitialized = false;
                        platformsManager.init();
                        // ضمان عرض المنصات بالشكل المفصل
                        platformsManager.renderPlatformTable();
                        }else if (tabId === 'services' && typeof servicesDashboard !== 'undefined') {
                            // تهيئة مكون إدارة الخدمات
                            servicesDashboard.init();                        } else if (tabId === 'orders' && typeof ordersDashboard !== 'undefined') {
                            // تهيئة مكون إدارة الطلبات
                            // إعادة تعيين المتغير العام للتصدير
                            window.isExportingOrders = false;
                            // تهيئة النظام
                            ordersDashboard.init();
                        }                    else if (tabId === 'pricing' && typeof pricingCustomizer !== 'undefined') {
                        // تهيئة مكون تخصيص الأسعار
                        pricingCustomizer.init();
                    }                    else if (tabId === 'settings' && typeof settingsManager !== 'undefined') {
                        // تهيئة مكون الإعدادات
                        settingsManager.init();
                        // عرض واجهة الإعدادات
                        settingsManager.renderSettingsUI();
                    }
                    }
                });
            });
        }
        
        // Define setupModals function
        function setupModals() {
            // Get all modal close buttons
            const closeButtons = document.querySelectorAll('[id$="-modal"] [id^="close-"]');
            
            // Add click event listener to each close button
            closeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Find the parent modal
                    const modal = this.closest('[id$="-modal"]');
                    if (modal) {
                        modal.classList.add('hidden');
                    }
                });
            });
            
            // Close modal when clicking outside of modal content
            document.addEventListener('click', function(e) {
                document.querySelectorAll('[id$="-modal"]').forEach(modal => {
                    const modalContent = modal.querySelector('.bg-white');
                    if (modal && !modal.classList.contains('hidden') && modalContent && !modalContent.contains(e.target) && e.target !== modalContent) {
                        // Only close if clicking on the overlay, not the modal content
                        if (modal.contains(e.target)) {
                            modal.classList.add('hidden');
                        }
                    }
                });
            });
        }
        
        // Define setupLogin function
        function setupLogin() {
            const loginForm = document.getElementById('login-form');
            const loginScreen = document.getElementById('login-screen');
            const dashboard = document.getElementById('dashboard');
            const logoutButton = document.getElementById('logout-button');
              // Add submit event listener to login form
            if (loginForm) {
                loginForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const username = document.getElementById('username').value;
                    const password = document.getElementById('password').value;
                    
                    // Get admin credentials from localStorage or use defaults
                    let adminCredentials = { username: 'admin', password: 'admin123' };
                    const storedCredentials = localStorage.getItem('admin_credentials');
                    if (storedCredentials) {
                        try {
                            adminCredentials = JSON.parse(storedCredentials);
                        } catch (err) {
                            console.error('خطأ في قراءة بيانات المسؤول:', err);
                        }
                    }
                    
                    // Validate credentials
                    if (username === adminCredentials.username && password === adminCredentials.password) {
                        // Hide login screen and show dashboard
                        loginScreen.classList.add('hidden');
                        dashboard.classList.remove('hidden');
                        
                        // Store login state in localStorage
                        localStorage.setItem('dashboard_logged_in', 'true');
                        
                        // Update username in UI
                        const usernameElement = document.querySelector('#user-menu-button span');
                        if (usernameElement) {
                            usernameElement.textContent = adminCredentials.username;
                        }
                          // Load and display logo if exists
                        const siteLogo = localStorage.getItem('site_logo');
                        if (siteLogo) {
                            const navLogo = document.querySelector('nav .flex.items-center i.fas.fa-chart-line');
                            if (navLogo) {
                                const logoImg = document.createElement('img');
                                logoImg.src = siteLogo;
                                logoImg.alt = 'شعار الموقع';
                                logoImg.classList.add('h-12', 'w-auto', 'mr-2');
                                logoImg.id = 'site-logo';
                                logoImg.style.maxHeight = '48px';
                                navLogo.parentNode.replaceChild(logoImg, navLogo);
                            }
                        }
                    } else {
                        alert('اسم المستخدم أو كلمة المرور غير صحيحة');
                    }
                });
            }
            
            // Check login state on page load
            if (localStorage.getItem('dashboard_logged_in') === 'true') {
                if (loginScreen && dashboard) {
                    loginScreen.classList.add('hidden');
                    dashboard.classList.remove('hidden');
                }
            }
            
            // Add click event listener to logout button
            if (logoutButton) {
                logoutButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Clear login state and reload page
                    localStorage.removeItem('dashboard_logged_in');
                    window.location.reload();
                });
            }
        }          // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize the social dashboard
            if (typeof socialDashboard !== 'undefined') {
                socialDashboard.init();
                
                // Initialize other dashboard modules
                if (typeof servicesDashboard !== 'undefined') {
                    servicesDashboard.init();
                }
                
                if (typeof ordersDashboard !== 'undefined') {
                    ordersDashboard.init();
                }                // تهيئة نظام إدارة المنصات                if (typeof platformsManager !== 'undefined') {
                    // إعادة ضبط حالة التهيئة للسماح بإعادة تحميل المنصات
                    platformsManager.state.isInitialized = false;
                    platformsManager.init();
                    
                    // تأكد من عرض بطاقات المنصات المفصلة
                    setTimeout(() => {
                        platformsManager.renderPlatformTable();
                    }, 200);
                }                // Initialize settings manager
                if (typeof settingsManager !== 'undefined') {
                    settingsManager.init();
                    
                    // تهيئة تبويب الإعدادات إذا كان مفتوحًا
                    if (document.querySelector('#settings.active')) {
                        setTimeout(() => {
                            settingsManager.renderSettingsUI();
                        }, 100);
                    }
                }
                  // Initialize dashboard connectors
                if (typeof dashboardConnectors !== 'undefined') {
                    dashboardConnectors.init();
                }
            } else {
                // Fallback to basic functionality
                setupTabSystem();
                setupModals();
                setupLogin();
            }
        });        // Enhanced responsive sidebar toggle with overlay
        document.addEventListener('DOMContentLoaded', function() {
            const sidebar = document.querySelector('.sidebar');
            const sidebarToggle = document.getElementById('sidebar-toggle');
            const sidebarOverlay = document.getElementById('sidebar-overlay');
            const tabLinks = document.querySelectorAll('.sidebar .tab-link');
            
            if (sidebar && sidebarToggle) {                // Toggle sidebar when menu button is clicked
                sidebarToggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Force sidebar to be visible when toggled
                    sidebar.style.display = 'block';
                    sidebar.classList.toggle('open');
                    
                    if (sidebarOverlay) {
                        sidebarOverlay.classList.toggle('active');
                    }
                    
                    // Prevent scrolling when sidebar is open
                    if (sidebar.classList.contains('open')) {
                        document.body.style.overflow = 'hidden';
                    } else {
                        document.body.style.overflow = '';
                    }
                });
                
                // Close sidebar when clicking the overlay
                if (sidebarOverlay) {
                    sidebarOverlay.addEventListener('click', function() {
                        sidebar.classList.remove('open');
                        sidebarOverlay.classList.remove('active');
                        document.body.style.overflow = '';
                    });
                }
                
                // Close sidebar when a tab link is clicked on mobile
                tabLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        if (window.innerWidth <= 1024) {
                            sidebar.classList.remove('open');
                            if (sidebarOverlay) {
                                sidebarOverlay.classList.remove('active');
                            }
                            document.body.style.overflow = '';
                        }
                    });
                });
                
                // Close sidebar on outside click (mobile)
                document.addEventListener('click', function(e) {
                    if (window.innerWidth <= 1024 && sidebar.classList.contains('open')) {
                        if (!sidebar.contains(e.target) && !sidebarToggle.contains(e.target) && 
                            (!sidebarOverlay || e.target !== sidebarOverlay)) {
                            sidebar.classList.remove('open');
                            if (sidebarOverlay) {
                                sidebarOverlay.classList.remove('active');
                            }
                            document.body.style.overflow = '';
                        }
                    }
                });
            }
            
            // Setup mobile bottom navigation if it exists
            const mobileBottomNav = document.querySelector('.mobile-bottom-nav');
            if (mobileBottomNav) {
                const mobileNavLinks = mobileBottomNav.querySelectorAll('.tab-link-mobile');
                
                mobileNavLinks.forEach(link => {
                    link.addEventListener('click', function(e) {
                        e.preventDefault();
                        
                        // Get the tab to activate
                        const tabId = this.getAttribute('data-tab');
                        
                        // Update active state in mobile nav
                        mobileNavLinks.forEach(navLink => {
                            navLink.classList.remove('active');
                        });
                        this.classList.add('active');
                        
                        // Also activate the corresponding sidebar link
                        const sidebarLink = document.querySelector(`.sidebar .tab-link[data-tab="${tabId}"]`);
                        if (sidebarLink) {
                            const event = new Event('click');
                            sidebarLink.dispatchEvent(event);
                        }
                    });
                });
            }
        });</script>

    <!-- Add Platform Modal -->
    <div id="add-platform-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black opacity-50"></div>
        <div class="absolute inset-0 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg shadow-lg max-w-2xl w-full">
                <div class="flex justify-between items-center border-b border-gray-200 px-6 py-4">
                    <h3 class="text-xl font-bold text-gray-800">إضافة منصة جديدة</h3>
                    <button id="close-platform-modal" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="p-6">
                    <form id="add-platform-form" class="space-y-4" data-mode="add">
                        <div>
                            <label class="block text-gray-700 mb-2">اسم المنصة</label>
                            <input type="text" id="platform-name" name="platform-name" placeholder="أدخل اسم المنصة" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">الاسم المختصر (بالإنجليزية)</label>
                            <input type="text" id="platform-slug" placeholder="مثال: instagram, tiktok" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">وصف المنصة</label>
                            <textarea id="platform-description" placeholder="أدخل وصفاً مختصراً للمنصة" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">نوع المنصة</label>
                            <select id="platform-type" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="social">منصة تواصل اجتماعي</option>
                                <option value="video">منصة فيديو</option>
                                <option value="messaging">منصة مراسلة</option>
                                <option value="other">أخرى</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">أيقونة المنصة</label>
                            <div class="mt-1 flex items-center">
                                <span class="inline-block h-12 w-12 rounded-full overflow-hidden bg-gray-100">
                                    <i id="platform-icon-preview" class="fab fa-globe flex items-center justify-center h-full w-full text-2xl text-gray-400"></i>
                                </span>
                                <div class="mr-4 flex-grow">
                                    <input type="text" id="platform-icon" placeholder="رمز فونت أوسم، مثل: instagram" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <p class="text-xs text-gray-500 mt-1">أدخل رمز Font Awesome بدون 'fab' أو 'fas'</p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">الموقع الرسمي</label>
                            <input type="url" id="platform-website" placeholder="https://example.com" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">لون المنصة (هيكس)</label>
                            <div class="flex">
                                <input type="color" id="platform-color" class="h-10 w-16 p-1 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <input type="text" id="platform-color-hex" placeholder="#1DA1F2" class="flex-grow p-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="platform-active" class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" checked>
                            <label for="platform-active" class="mr-2 text-gray-700">تفعيل المنصة</label>
                        </div>
                    </form>
                </div>
                <div class="flex justify-end border-t border-gray-200 px-6 py-4">
                    <button id="cancel-platform" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md mr-3 hover:bg-gray-300 transition">
                        إلغاء
                    </button>
                    <button id="save-platform" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition">
                        حفظ المنصة
                    </button>
                </div>            </div>
        </div>
    </div>    <!-- Script section -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/date-fix.js"></script>
    <script src="js/unified-platform-service-manager.js"></script>

    <!-- Unified Platform Service Manager (Load First) -->
    <script src="js/dashboard-platforms-services.js"></script>
    <script src="js/dashboard-platforms.js"></script>
    <script src="js/dashboard-services.js"></script>

    <!-- Legacy Core Systems (For Backwards Compatibility) - Commented out as they're no longer needed -->
    <!-- <script src="js/platform-display-manager.js"></script> -->
    <!-- <script src="js/adapter-platform-service-manager.js"></script> -->
    <!-- <script src="js/alpine-unified-integration.js"></script> -->
    
    <!-- Dashboard Core -->
    <script src="js/dashboard.js"></script>
    <script src="js/tab-system.js"></script>
    <script src="js/social-dashboard.js"></script>
    
    <!-- Component Managers -->
    <script src="js/dashboard-analytics.js"></script>
    <script src="js/services-dashboard-updated.js"></script>
    <script src="js/orders-dashboard.js"></script>
    <script src="js/pricing-customizer.js"></script>
    <script src="js/pricing-helper.js"></script>
    <script src="js/settings-manager.js"></script>
    
    <!-- Platform Management -->
    <script src="js/default-platforms.js"></script>
    <script src="js/platforms-initializer.js"></script>
    <script src="js/platforms-migrator.js"></script>
    <script src="js/activate-platforms-tab.js"></script>
    
    <!-- Helper Utilities -->
    <script src="js/format-helpers.js"></script>
    <script src="js/value-helper.js"></script>
    <script src="js/notification-helper.js"></script>
    <script src="js/init-manager.js"></script>
    <script src="js/settings-activator.js"></script>    <script src="js/dashboard-connectors.js"></script>
    <script src="js/mobile-nav-handler.js"></script>
    <script src="js/table-responsive.js"></script>
    <script src="js/sidebar-toggle-fix.js"></script>
    <script src="js/platform-service-test.js"></script>
    <script>
  // Override the services dashboard init function to show all services by default
  document.addEventListener('DOMContentLoaded', function() {
    if (typeof servicesDashboard !== 'undefined') {
      const originalInit = servicesDashboard.init;
      servicesDashboard.init = function() {
        // Call the original init function
        originalInit.call(this);
        
        // Force display all services
        const serviceFilter = document.getElementById('service-filter');
        if (serviceFilter) {
          serviceFilter.value = 'all';
          serviceFilter.dispatchEvent(new Event('change'));
        }
      };
    }
  });
</script>
<script>
  // تحسين عرض البطاقات وإزالة التكرارات
  document.addEventListener('DOMContentLoaded', function() {
    // منع تكرار بطاقات الخدمات (يحدث في بعض الأحيان)
    window.fixDuplicateServices = function() {
      const container = document.getElementById('services-container');
      if (!container) return;
      
      // جمع جميع معرفات الخدمات المعروضة
      const serviceIds = new Set();
      const duplicates = [];
      
      // البحث عن التكرارات
      container.querySelectorAll('.service-card').forEach(card => {
        const id = card.id;
        if (serviceIds.has(id)) {
          duplicates.push(card);
        } else {
          serviceIds.add(id);
        }
      });
      
      // إزالة البطاقات المكررة
      duplicates.forEach(card => card.remove());
      
      console.log(`تم إزالة ${duplicates.length} بطاقة مكررة`);
    };
    
    // تنفيذ الإصلاح عند فتح تبويب الخدمات
    document.querySelectorAll('.tab-link').forEach(link => {
      link.addEventListener('click', function() {
        if (this.getAttribute('data-tab') === 'services') {
          setTimeout(fixDuplicateServices, 300);
        }
      });
    });
    
    // تطبيق التصميم المتجاوب المحسن على الفلاتر
    const filterContainer = document.querySelector('.flex.justify-between.items-center.mb-4');
    if (filterContainer) {
      filterContainer.classList.add('filter-container');
      filterContainer.classList.remove('mb-4');
      
      // تحسين عنصر الفلتر
      const filterGroup = filterContainer.querySelector('.flex.items-center');
      if (filterGroup) {
        filterGroup.classList.add('search-filter-group');
      }
      
      // تحسين حقل البحث
      const searchInput = filterContainer.querySelector('#service-search');
      if (searchInput) {
        searchInput.classList.add('search-input');
        const searchIcon = searchInput.nextElementSibling;
        if (searchIcon) {
          searchIcon.classList.add('search-icon');
        }
      }
    }
    
    // تنفيذ الإصلاح عند التحميل إذا كان تبويب الخدمات مفتوحًا
    if (document.querySelector('#services.active')) {
      setTimeout(fixDuplicateServices, 300);
    }
  });
</script>
<script>
/**
 * إصلاح ظهور الشريط الجانبي في الأجهزة الكبيرة
 */
document.addEventListener('DOMContentLoaded', function() {
  const sidebar = document.querySelector('.sidebar');
  if (!sidebar) return;
  
  // وظيفة للتحقق من حجم الشاشة وضبط الشريط الجانبي وفقًا لذلك
  function adjustSidebar() {
    if (window.innerWidth >= 1025) {
      // إظهار الشريط الجانبي دائمًا على الشاشات الكبيرة
      sidebar.style.display = 'block';
      sidebar.style.width = '20%';
      sidebar.style.transform = 'translateX(0)';
      sidebar.classList.remove('open'); // إزالة فئة open التي قد تكون مُضافة
    } else {
      // إعادة ضبط خصائص الشريط الجانبي على الأجهزة الصغيرة
      if (!sidebar.classList.contains('open')) {
        sidebar.style.transform = "translateX(-100%)";
      }
    }
  }
  
  // تنفيذ الضبط عند تحميل الصفحة
  adjustSidebar();
  
  // إعادة الضبط عند تغيير حجم النافذة
  window.addEventListener('resize', adjustSidebar);
});
</script>
<script src="js/sidebar-visibility-fix.js"></script>
<script>
/**
 * تطبيق إصلاح الشريط الجانبي النهائي
 */
(function() {
  // الحصول على الشريط الجانبي والمحتوى الرئيسي
  const sidebar = document.querySelector('.sidebar');
  const mainContent = document.querySelector('.w-4/5');
  
  if (!sidebar || !mainContent) return;
  
  // إضافة معرف للعنصر الجذري لزيادة الأولوية
  const bodyElement = document.querySelector('body');
  bodyElement.id = 'main-layout-root';
  
  // دالة للتحكم في عرض الشريط الجانبي وفقًا لحجم الشاشة
  function forceLayoutFix() {
    const isLargeScreen = window.innerWidth >= 1025;
    
    // إزالة الأنماط المضافة من خلال JavaScript
    if (isLargeScreen) {
      sidebar.style.cssText = "width: 20% !important; display: block !important; transform: translateX(0) !important; position: relative !important";
      mainContent.style.cssText = "width: 80% !important";
      
      // إزالة فئة التجاوب
      bodyElement.classList.remove('mobile-view');
      
      // إزالة أي مستمعات أحداث مرتبطة بزر التبديل على الشاشات الكبيرة
      const toggleButton = document.getElementById('sidebar-toggle');
      if (toggleButton) {
        const newToggle = toggleButton.cloneNode(true);
        toggleButton.parentNode.replaceChild(newToggle, toggleButton);
      }
    } else {
      // للأجهزة الصغيرة، دع السلوك الافتراضي يعمل
      bodyElement.classList.add('mobile-view');
      
      // تأكد من أن الشريط الجانبي مخفي على الأجهزة الصغيرة في البداية
      if (!sidebar.classList.contains('open')) {
        sidebar.style.transform = "translateX(-100%)";
      }
    }
  }
  
  // تنفيذ الإصلاح فورًا
  forceLayoutFix();
  
  // إعادة تنفيذ الإصلاح عند تغيير حجم النافذة
  window.addEventListener('resize', forceLayoutFix);
  
  // تنفيذ مرة أخرى بعد تحميل الصفحة بالكامل
  window.addEventListener('load', forceLayoutFix);
  
  // تنفيذ الإصلاح بعد فترة زمنية قصيرة للتأكد من تطبيق التغييرات
  setTimeout(forceLayoutFix, 500);
  setTimeout(forceLayoutFix, 1000);
})();
</script>
<script>
// إصلاح مشكلة ظهور الشريط الجانبي في شاشة تسجيل الدخول
document.addEventListener('DOMContentLoaded', function() {
  const loginScreen = document.getElementById('login-screen');
  const dashboard = document.getElementById('dashboard');
  const sidebar = document.querySelector('.sidebar');
  
  // تحديث حالة الشريط الجانبي استناداً إلى حالة تسجيل الدخول
  function updateSidebarVisibility() {
    if (loginScreen && !loginScreen.classList.contains('hidden')) {
      // إذا كانت شاشة تسجيل الدخول مرئية، أخفِ الشريط الجانبي
      if (sidebar) {
        sidebar.style.display = 'none';
      }
    } else if (dashboard && !dashboard.classList.contains('hidden')) {
      // إذا كانت لوحة التحكم مرئية والشاشة كبيرة، أظهر الشريط الجانبي
      if (sidebar && window.innerWidth >= 1025) {
        sidebar.style.display = 'block';
        sidebar.style.width = '20%';
        sidebar.style.transform = 'translateX(0)';
        sidebar.style.position = 'relative';
      }
    }
  }
  
  // تشغيل الدالة عند تحميل الصفحة
  updateSidebarVisibility();
  
  // تعديل فكرة تسجيل الدخول للتأكد من إظهار/إخفاء الشريط الجانبي بشكل صحيح
  const loginForm = document.getElementById('login-form');
  if (loginForm) {
    const originalSubmit = loginForm.onsubmit;
    loginForm.onsubmit = function(e) {
      // تنفيذ السلوك الأصلي لتقديم النموذج
      if (typeof originalSubmit === 'function') {
        originalSubmit.call(this, e);
      }
      
      // بعد تسجيل الدخول بنجاح، أعد تحديث حالة الشريط الجانبي
      setTimeout(updateSidebarVisibility, 100);
    };
  }
  
  // تحديث عند تغيير حجم النافذة
  window.addEventListener('resize', updateSidebarVisibility);
});
</script>
<script>
// إصلاح مشكلة عدم عمل تسجيل الدخول
document.addEventListener('DOMContentLoaded', function() {
  // التعامل المباشر مع نموذج تسجيل الدخول
  const loginForm = document.getElementById('login-form');
  const loginScreen = document.getElementById('login-screen');
  const dashboard = document.getElementById('dashboard');
  
  if (loginForm) {
    console.log('تم العثور على نموذج تسجيل الدخول، جاري إعداد المعالج...');
    
    // إضافة معالج للنقر على زر تسجيل الدخول
    const loginButton = loginForm.querySelector('button[type="submit"]');
    if (loginButton) {
      loginButton.addEventListener('click', function(e) {
        e.preventDefault();
        console.log('تم النقر على زر تسجيل الدخول');
        
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        
        console.log('محاولة تسجيل الدخول باسم:', username);
        
        // التحقق من بيانات الاعتماد
        if (username === 'admin' && password === 'admin123') {
          console.log('تم تسجيل الدخول بنجاح!');
          
          // إخفاء شاشة تسجيل الدخول وإظهار لوحة التحكم
          loginScreen.classList.add('hidden');
          dashboard.classList.remove('hidden');
          
          // تخزين حالة تسجيل الدخول
          localStorage.setItem('dashboard_logged_in', 'true');
          
          // تحديث الشريط الجانبي
          const sidebar = document.querySelector('.sidebar');
          if (sidebar && window.innerWidth >= 1025) {
            setTimeout(function() {
              sidebar.style.display = 'block';
              sidebar.style.width = '20%';
              sidebar.style.transform = 'translateX(0)';
              sidebar.style.position = 'relative';
              
              // تحديث المحتوى الرئيسي
              const mainContent = document.querySelector('.w-4/5');
              if (mainContent) {
                mainContent.style.width = '80%';
              }
            }, 100);
          }
        } else {
          console.log('فشل تسجيل الدخول: بيانات الاعتماد غير صحيحة');
          alert('اسم المستخدم أو كلمة المرور غير صحيحة');
        }
      });
    }
    
    // إضافة معالج لتقديم النموذج كإجراء احتياطي
    loginForm.addEventListener('submit', function(e) {
      e.preventDefault();
      console.log('تم تقديم نموذج تسجيل الدخول');
      
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      
      if (username === 'admin' && password === 'admin123') {
        loginScreen.classList.add('hidden');
        dashboard.classList.remove('hidden');
        localStorage.setItem('dashboard_logged_in', 'true');
      } else {
        alert('اسم المستخدم أو كلمة المرور غير صحيحة');
      }
    });
  }
  
  // التحقق من حالة تسجيل الدخول عند تحميل الصفحة
  if (localStorage.getItem('dashboard_logged_in') === 'true') {
    if (loginScreen && dashboard) {
      loginScreen.classList.add('hidden');
      dashboard.classList.remove('hidden');
    }
  }
});

// إصلاح إضافي لضمان عمل نظام تسجيل الدخول
window.onload = function() {
  const loginButton = document.querySelector('#login-form button[type="submit"]');
  if (loginButton) {
    loginButton.onclick = function(e) {
      e.preventDefault();
      
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      
      if (username === 'admin' && password === 'admin123') {
        document.getElementById('login-screen').classList.add('hidden');
        document.getElementById('dashboard').classList.remove('hidden');
        localStorage.setItem('dashboard_logged_in', 'true');
      } else {
        alert('اسم المستخدم أو كلمة المرور غير صحيحة');
      }
      
      return false;
    };
  }
};
</script>
<script src="js/login-fix.js"></script>
<script>
// التأكد من أن رابط زيارة الموقع يعمل بشكل صحيح
document.addEventListener('DOMContentLoaded', function() {
  const visitSiteLink = document.querySelector('.visit-site-link');
  
  if (visitSiteLink) {
    // تجاوز معالجات الأحداث الأخرى
    visitSiteLink.onclick = function(e) {
      // الانتقال المباشر إلى الصفحة الرئيسية
      window.location.href = this.href;
    };
    
    console.log('تم إصلاح رابط زيارة الموقع');
  }
});
</script>
</body>
</html>

