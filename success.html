<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تم الدفع بنجاح</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- إضافة تعليمات للمتصفح للسماح بالمنشأ نفسه لـ Stripe.js -->
    <meta http-equiv="Content-Security-Policy" content="frame-src 'self' https://js.stripe.com https://hooks.stripe.com; connect-src 'self' https://api.stripe.com;">
</head>
<body>
    <div class="container success-container">
        <header>
            <div class="logo">
                <h1>بوابة الدفع الآمنة</h1>
            </div>
        </header>
        
        <main>
            <div class="success-message">
                <div class="success-icon">✓</div>
                <h2>تمت عملية الدفع بنجاح!</h2>
                <p>شكراً لك. تم استلام طلبك وسيتم معالجته قريباً.</p>
                <div class="order-details">
                    <h3>تفاصيل الطلب</h3>
                    <p>رقم العملية: <span id="transaction-id"></span></p>
                    <p>المبلغ المدفوع: <span id="amount-paid"></span></p>
                    <p>تاريخ العملية: <span id="transaction-date"></span></p>
                </div>
                <a href="index.html" class="back-button">العودة للصفحة الرئيسية</a>
            </div>
        </main>
        
        <footer>
            <p>جميع الحقوق محفوظة &copy; 2025</p>
        </footer>
    </div>
    
    <script>
        // استخراج معلومات الدفع من المعلمات في رابط URL
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const transactionId = urlParams.get('transaction_id') || 'XXXX-XXXX-XXXX';
            const amountPaid = urlParams.get('amount') || '0.00';
            const currency = urlParams.get('currency') || 'USD';
            
            document.getElementById('transaction-id').textContent = transactionId;
            document.getElementById('amount-paid').textContent = `${amountPaid} ${currency}`;
            document.getElementById('transaction-date').textContent = new Date().toLocaleDateString('ar-EG');
        });
    </script>
</body>
</html>